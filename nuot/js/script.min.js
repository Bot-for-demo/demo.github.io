"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function asyncGeneratorStep(e,t,o,r,n,a,c){try{var i=e[a](c),s=i.value}catch(e){return void o(e)}i.done?t(s):Promise.resolve(s).then(r,n)}function _asyncToGenerator(e){return function(){var t=this,o=arguments;return new Promise((function(r,n){var a=e.apply(t,o);function c(e){asyncGeneratorStep(a,r,n,c,i,"next",e)}function i(e){asyncGeneratorStep(a,r,n,c,i,"throw",e)}c(void 0)}))}}window.onload=function(){
//!general functions
function e(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;"inline"==t&&null==o&&(e.style.display="inline-block"),"inline"==t&&null!==o&&(e.style.display="inline-block",o.style.display="none"),"block"==t&&(e.style.display="block",o.style.display="none"),"flex"==t&&o&&(e.style.display="flex",o.style.display="none"),"flex"==t&&null==o&&(e.style.display="flex"),"none"==t&&(e.style.display="none")}var t;function o(e){for(;e.firstChild;)e.removeChild(e.firstChild)}document.querySelector(".product-card-swiper")&&(t=new Swiper(".product-card-swiper",{watchOverflow:!0,slidesPerView:1,navigation:{nextEl:".product-card-swiper-next",prevEl:".product-card-swiper-prev"}})),$(".telephoneInput").click((function(){$(this).val().includes("_")&&$(this).setCursorPosition(5)})).mask("+380(99)9999999"),$(".telephoneInput").mask("+380(99)9999999"),$.fn.setCursorPosition=function(e){if($(this).get(0).setSelectionRange)$(this).get(0).setSelectionRange(e,e);else if($(this).get(0).createTextRange){var t=$(this).get(0).createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}},window.oldScrollY=window.scrollY,document.onscroll=function(e){var t=window.oldScrollY>window.scrollY?1:2;window.oldScrollY=window.scrollY;var o=document.querySelector("header");2==t&&window.scrollY>400?o.style.transform="translateY(-100%)":1==t&&(o.style.transform="translateY(0)"),2==t&&window.scrollY>1500?document.getElementById("topBtn").style.display="flex":document.getElementById("topBtn").style.display="none"},document.getElementById("topBtn").onclick=function(){window.scrollTo({top:0,behavior:"smooth"})},//!header search
function(){var e=document.querySelector(".header-search"),t=document.querySelector(".header__search-wrapper"),o=document.querySelector(".search-input");if(e){function r(){return(r=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t={filter_name:o.value},$.ajax({url:"index.php?route=common/search/autocomplete/",type:"get",data:t,dataType:"json",success:function(e){console.log(e),e.map((function(e){document.querySelector(".search__results-container").insertAdjacentHTML("beforeend",'<a href="'.concat(e.href,'">').concat(e.name,"</a>"))}))},error:function(e){throw new Error(e)}})}catch(e){console.log(e)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){
//!переделать функцию для логина, для мобильного меню
e.classList.toggle("_icon-search"),e.classList.toggle("_icon-cancel"),e.classList.toggle("rotate-anim"),t.classList.toggle("show-effect")}o.addEventListener("input",(function(e){o.value.length>=3&&function(){r.apply(this,arguments)}()})),document.addEventListener("click",(function(o){var r=o.target,a=r==t||t.contains(r),c=r==e,i=t.classList.contains("show-effect");a||c||!i||n()})),e.addEventListener("click",(function(e){n(),o.focus()}))}}(),//! auth
function(){var t,o,r,n,a,c,i,s=document.querySelector(".unknown-user"),l=document.querySelector(".auth__wrapper"),d=document.querySelector(".menu__mobile-unregistered"),u=document.querySelector(".personal__wrapper"),p=document.querySelector(".menu__icon"),m=document.querySelector(".menu__mobile-modal"),y=document.querySelector("#menu__mobile-modal"),f=document.querySelector(".auth__wrapper-checkout"),_=document.querySelector(".number__container"),v=document.querySelector(".code__container"),g=document.querySelector(".code__container-text"),h=document.querySelector(".refresh-form"),b=document.querySelector("#menu__mobile-modal");if(document.querySelector("#infoAvailability")){var S=document.querySelector(".modal__inform-inform-tel"),w=document.querySelector(".modal__send-code"),q=document.querySelector(".modal__inform-capcha"),k=document.querySelector(".modal__inform");function L(){return E.apply(this,arguments)}function E(){return(E=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.ajax({url:"index.php?route=account/login/turboSmsClearAttemps",type:"post",data:o,dataType:"json",success:function(){document.querySelector(".modal__inform-code").value=""},error:function(e){throw new Error(e)}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){document.querySelector(".modal__inform-main-body").style.display="block",document.querySelector(".modal__inform-success-body").style.display="none",document.querySelector(".modal__inform-wrapper").style.display="none",document.querySelector(".modal__notification-container").style.display="none",document.querySelector(".modal__inform-inform-tel").style.display="block",document.querySelector(".inform-name").style.display="none",document.querySelector(".modal__inform-code").value="",document.querySelector(".modal__send-code").removeAttribute("disabled"),document.querySelector(".modal__inform-inform-tel").removeAttribute("disabled"),document.querySelector("#telephoneInform").removeAttribute("readonly"),document.querySelector("#telephoneInform").value="",document.querySelector(".modal__inform-name").value="",document.querySelector(".modal__notification-submit").removeAttribute("disabled"),document.querySelector(".modal__error-number").style.display="none",document.querySelector(".modal__refresh-code").style.display="none",document.querySelector(".modal-availability-error").style.display="none",document.querySelector(".spinner-inform-continer").style.display="none",clearTimeout(a)}document.querySelector(".modal__back-number").addEventListener("click",(function(e){x(),clearTimeout(a),L()})),document.querySelector(".modal__refresh-code").addEventListener("click",(function(e){L(),setTimeout((function(){return B(o,document.querySelector(".spinner-inform-continer"))}),400),clearTimeout(a),document.querySelector(".modal__refresh-code").style.display="none",a=setTimeout((function(){return document.querySelector(".modal__refresh-code").style.display="block"}),6e4)})),S.addEventListener("click",(function(e){var t=document.querySelector(".spinner-inform-continer"),r=(document.querySelector(".inform-tel"),document.querySelector("#telephoneInform").value);if(""!==r&&!r.includes("_")&&""==q.value){var n=r.replace("(","").replace(")","");B(o={phone:n},t),S.disabled=!0}})),w.addEventListener("click",(function(e){var t=document.querySelector(".modal__inform-code");6==t.value.length&&""==q.value&&(w.setAttribute("disabled",!0),function(e){A.apply(this,arguments)}({sms_code:t.value,opencart_code:r,phone:o}))})),k.addEventListener("submit",(function(e){if(e.preventDefault(),""==q.value){var t,o=document.querySelector(".modal__inform-name").value,r=document.querySelector("#telephoneInform").value,n=document.querySelector(".modal__notification-radio:checked").value;t=1==n?"telephone":"sms";var a=document.querySelector(".modal__inform-main-body");!function(e){$.ajax({url:"index.php?route=product/product/stockStatusReport",type:"post",data:e,dataType:"json",beforeSend:function(){document.querySelector(".spinner-inform-continer").style.display="flex"},success:function(e){document.querySelector(".spinner-inform-continer").style.display="none",document.querySelector(".modal__inform-main-body").style.display="none",document.querySelector(".modal__inform-success-body").style.display="flex"},error:function(e){throw document.querySelector(".spinner-inform-continer").style.display="none",document.querySelector(".modal__inform-main-body").style.display="none",document.querySelector(".modal-availability-error").style.display="block",new Error(e)}})}({user_name:o,user_telephone:r,method_information:t,method_id:n,product_id:a.querySelector(".card__description-size").getAttribute("data-confirm"),size:a.querySelector(".card__description-size").textContent})}})),$("#infoAvailability").on("hidden.bs.modal",(function(e){x()}))}function A(){return(A=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.ajax({url:"index.php?route=account/login/turboSmsCheckCode",type:"post",data:t,dataType:"json",beforeSend:function(){document.querySelector(".spinner-inform-continer").style.display="flex"},success:function(e){document.querySelector(".spinner-inform-continer").style.display="none",e.code_matching?(document.querySelector(".modal__inform-inform-tel").style.display="none",document.querySelector(".modal__inform-wrapper").style.display="none",document.querySelector(".modal__notification-container").style.display="block",document.querySelector(".inform-name").style.display="flex"):!e.code_matching&&e.try_count<=5?(document.querySelector(".modal__send-code").removeAttribute("disabled"),document.querySelector(".modal__inform-code").classList.add("error-input"),setTimeout((function(){return document.querySelector(".modal__inform-code").classList.remove("error-input")}),5e3),document.querySelector(".modal__error-number").style.display="block",document.querySelector(".modal__error-number").textContent=e.code_error):!e.code_matching&&e.try_count>5&&(document.querySelector(".modal__send-code").removeAttribute("disabled"),document.querySelector(".modal__inform-code").classList.add("error-input"),setTimeout((function(){return document.querySelector(".modal__inform-code").classList.remove("error-input")}),5e3),document.querySelector(".modal__error-number").style.display="block",document.querySelector(".modal__error-number").textContent=e.code_error,document.querySelector(".modal__refresh-code").style.display="block")},error:function(e){throw document.querySelector(".spinner-inform-continer").style.display="none",document.querySelector(".modal__send-code").removeAttribute("disabled"),document.querySelector(".modal__inform-code").classList.add("error-input"),setTimeout((function(){return document.querySelector(".modal__inform-code").classList.remove("error-input")}),5e3),new Error(e)}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(s&&(d.addEventListener("click",(function(e){"none"==getComputedStyle(l).display?(m.classList.toggle("active-modal"),y.classList.toggle("active-modal"),u.classList.toggle("show-effect"),b.classList.toggle("show-effect")):(m.classList.toggle("active-modal"),y.classList.toggle("active-modal"),l.classList.toggle("show-effect"),b.classList.toggle("show-effect"))})),s.addEventListener("click",(function(e){"none"==getComputedStyle(l).display?(u.classList.toggle("show-effect"),b.classList.toggle("show-effect")):(l.classList.toggle("show-effect"),b.classList.toggle("show-effect"))}))),//!сделать универсальным
s&&document.addEventListener("click",(function(e){if("none"==getComputedStyle(l).display){var t=e.target,o=t==u||u.contains(t),r=t==s,n=u.classList.contains("show-effect");o||r||!n||e.target.classList.contains("menu__mobile-unregistered")||(u.classList.toggle("show-effect"),b.classList.toggle("show-effect"))}else{var a=e.target,c=a==l||l.contains(a),i=a==s,d=l.classList.contains("show-effect");c||i||!d||e.target.classList.contains("menu__mobile-unregistered")||(l.classList.toggle("show-effect"),b.classList.toggle("show-effect"))}})),s||f){var T=document.getElementById("numberForm");c=T.getElementsByTagName("input");var N=document.getElementById("codeForm");t=N.getElementsByTagName("input");var j=document.querySelector(".spinner-number");document.querySelector(".back-number").addEventListener("click",(function(e){_.style.display="block",v.style.display="none",document.querySelector(".send-tel").removeAttribute("disabled"),document.querySelector(".send-code-btn").removeAttribute("disabled"),clearTimeout(n),h.style.display="none",document.querySelector(".code-error-block").textContent="",C()})),h.addEventListener("click",(function(e){C(),setTimeout((function(){return B(o,j,c[0])}),400),clearTimeout(n),h.style.display="none",n=setTimeout((function(){return h.style.display="block"}),6e4)})),T.addEventListener("submit",(function(e){e.preventDefault();var t=c[0].value;if(""!==t&&!t.includes("_")&&""==c[1].value){var r=t.replace("(","").replace(")","");o={phone:r},document.querySelector(".send-tel").disabled=!0,B(o,j,c[0])}})),N.addEventListener("submit",(function(e){e.preventDefault();var n=t[0].value;6==n.length&&""==t[1].value&&function(e){M.apply(this,arguments)}({sms_code:n,opencart_code:r,phone:o})}))}function C(){return I.apply(this,arguments)}function I(){return(I=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.ajax({url:"index.php?route=account/login/turboSmsClearAttemps",type:"post",data:o,dataType:"json",success:function(){t[0].value=""},error:function(e){throw new Error(e)}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return z.apply(this,arguments)}function z(){return(z=_asyncToGenerator(regeneratorRuntime.mark((function t(o,c){var s,l=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=l.length>2&&void 0!==l[2]?l[2]:null,$.ajax({url:"index.php?route=account/login/turboSmsGetCode",type:"post",data:o,dataType:"json",beforeSend:function(){e(c,"inline",s)},success:function(t){if(console.log(t),!0===t.send_sms&&s)_.style.display="none",v.style.display="block",g.textContent="+".concat(t.phone),r=t.send_code,o=t.phone,i=t.location,n=setTimeout((function(){return h.style.display="block"}),6e4),e(s,"block",c);else if(!0===t.send_sms&&!s){e(c,"none",null),document.querySelector("#telephoneInform").setAttribute("readonly",!0),document.querySelector(".modal__inform-wrapper").style.display="block",r=t.send_code,o=t.phone,a=setTimeout((function(){return document.querySelector(".modal__refresh-code").style.display="block"}),6e4)}},error:function(t){if(s)s.classList.add("error-input"),setTimeout((function(){return s.classList.remove("error-input")}),5e3),document.querySelector(".send-tel").removeAttribute("disabled"),e(s,"block",c);else if(!s){document.querySelector(".modal__inform-inform-tel").removeAttribute("disabled"),e(c,"none",null);var o=document.querySelector("#telephoneInform");o.classList.add("error-input"),setTimeout((function(){return o.classList.remove("error-input")}),5e3)}throw new Error(t)}});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(){return(M=_asyncToGenerator(regeneratorRuntime.mark((function o(r){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:$.ajax({url:"index.php?route=account/login/turboSmsCheckCode",type:"post",data:r,dataType:"json",beforeSend:function(){e(document.querySelector(".spinner-code"),"inline",t[0].parentNode),document.querySelector(".send-code-btn").disabled=!0},success:function(o){!0===o.code_matching&&!1===o.is_auth&&s?(l.style.display="none",u.classList.toggle("show-effect"),document.getElementById("telephone").value=o.telephone,document.getElementById("codePerson").value=o.code):!1===o.code_matching&&o.try_count<=5||!0===o.is_auth&&!1===o.code_matching&&o.try_count<=5?(document.querySelector(".send-code-btn").removeAttribute("disabled"),e(t[0].parentNode,"block",document.querySelector(".spinner-code")),t[0].classList.add("error-input"),setTimeout((function(){return t[0].classList.remove("error-input")}),5e3),document.querySelector(".code-error-block").textContent=o.code_error):!1===o.code_matching&&o.try_count>5||!0===o.is_auth&&!1===o.code_matching&&o.try_count>5?(e(t[0].parentNode,"block",document.querySelector(".spinner-code")),document.querySelector(".send-code-btn").removeAttribute("disabled"),t[0].classList.add("error-input"),setTimeout((function(){return t[0].classList.remove("error-input")}),5e3),document.querySelector(".code-error-block").textContent=o.try_error,h.style.display="block"):!0===o.is_auth&&!0===o.code_matching?(document.querySelector(".location-login").value=i,document.getElementById("codeForm").submit()):!1!==o.is_auth||s||(e(t[0].parentNode,"block",document.querySelector(".spinner-code")),e(document.querySelector(".code__container-title-error"),"block",t[0].parentNode),clearTimeout(n),h.style.display="none",document.querySelector(".code-error-block").textContent="")},error:function(o){throw e(t[0].parentNode,"block",document.querySelector(".spinner-code")),document.querySelector(".send-code-btn").removeAttribute("disabled"),t[0].classList.add("error-input"),setTimeout((function(){return t[0].classList.remove("error-input")}),5e3),new Error(o)}});case 1:case"end":return o.stop()}}),o)})))).apply(this,arguments)}if(s){var P=document.querySelector("#personal-data");P.addEventListener("submit",(function(e){e.preventDefault(),""==P.querySelector('input[name="chekoutPersone"]').value&&P.submit()}))}if(p){var R=document.querySelector("#female-mob-sub"),O=document.querySelector("#male-mob-sub"),H=document.querySelector("#child-mob-sub");p.addEventListener("click",(function(e){m.classList.toggle("active-modal"),y.classList.toggle("active-modal")})),//!сделать универсальным
document.addEventListener("click",(function(e){(e.target.classList.contains("active-modal")||e.target.classList.contains("menu__mobile-close"))&&(m.classList.toggle("active-modal"),y.classList.toggle("active-modal")),(e.target.classList.contains("female-js")||e.target.parentNode.classList.contains("female-js"))&&R.classList.toggle("show-effect"),(e.target.classList.contains("male-js")||e.target.parentNode.classList.contains("male-js"))&&O.classList.toggle("show-effect"),(e.target.classList.contains("child-js")||e.target.parentNode.classList.contains("child-js"))&&H.classList.toggle("show-effect"),e.target.classList.contains("menu__mob-sub-title")&&e.target.parentNode.classList.toggle("show-effect")}))}}(),//! SWIPERs
function(){var e=document.querySelectorAll(".nuot-modal-swiper");if(e.length>0){var t=[];e.forEach((function(e){var o=e.parentNode.querySelector(".nuot-modal-swiper-next"),r=e.parentNode.querySelector(".nuot-modal-swiper-prev"),n=e.parentNode.querySelector(".nuot-modal-scrollbar"),a=new Swiper(e,{watchOverflow:!0,spaceBetween:20,slidesPerView:2,navigation:{nextEl:o,prevEl:r},scrollbar:{el:n,draggable:!0},breakpoints:{1024:{watchOverflow:!0,spaceBetween:57,slidesPerView:2,navigation:{nextEl:o,prevEl:r},scrollbar:{el:n,draggable:!0}},520:{watchOverflow:!0,spaceBetween:12,slidesPerView:2,navigation:{nextEl:o,prevEl:r},scrollbar:{el:n,draggable:!0}}}});t.push(a)})),document.querySelectorAll(".gallery-nuo-item").forEach((function(e){e.addEventListener("click",(function(e){setTimeout((function(){Array.isArray(t)?t.map((function(e){e.update()})):t.update()}),400)}))}))}if(document.querySelector(".new-collection-slider")){window.matchMedia("(max-width: 520px)").matches&&new Swiper(".new-collection-slider",{pagination:{el:".new-collection-pagination"},watchOverflow:!0,breakpoints:{521:{slidesPerView:3}}})}if(document.querySelector(".sale__swiper"))new Swiper(".sale__swiper",{watchOverflow:!0,pagination:{el:".sale-swiper-pagination",type:"bullets"},breakpoints:{769:{navigation:{nextEl:".sale-swiper-next",prevEl:".sale-swiper-prev"},pagination:{el:".sale-swiper-pagination",type:"fraction"},scrollbar:{el:".sale-swiper-scrollbar",draggable:!0}}}});if(document.querySelector(".blog__swiper"))new Swiper(".blog__swiper",{watchOverflow:!0,slidesPerView:1,spaceBetween:10,pagination:{el:".blog-swiper-pagination",type:"bullets"},breakpoints:{769:{spaceBetween:20,navigation:{nextEl:".blog-swiper-next",prevEl:".blog-swiper-prev"},pagination:{el:".blog-swiper-pagination",type:"fraction"},scrollbar:{el:".blog-swiper-scrollbar",draggable:!0},slidesPerView:2},641:{slidesPerView:2}}});if(document.querySelector(".slider-cards__swiper"))new Swiper(".slider-cards__swiper",{watchOverflow:!0,slidesPerView:2,spaceBetween:0,pagination:{el:".slider-cards-swiper-pagination",type:"bullets"},breakpoints:{1440:{slidesPerView:4,navigation:{nextEl:".slider-cards-swiper-next",prevEl:".slider-cards-swiper-prev"},pagination:{el:".slider-cards-swiper-pagination",type:"fraction"},scrollbar:{el:".slider-cards-swiper-scrollbar",draggable:!0}},1170:{slidesPerView:3,navigation:{nextEl:".slider-cards-swiper-next",prevEl:".slider-cards-swiper-prev"},pagination:{el:".slider-cards-swiper-pagination",type:"fraction"},scrollbar:{el:".slider-cards-swiper-scrollbar",draggable:!0}},769:{spaceBetween:6,slidesPerView:2,navigation:{nextEl:".slider-cards-swiper-next",prevEl:".slider-cards-swiper-prev"},pagination:{el:".slider-cards-swiper-pagination",type:"fraction"},scrollbar:{el:".slider-cards-swiper-scrollbar",draggable:!0}}}});if(document.querySelector(".also-buy__swiper"))new Swiper(".also-buy__swiper",{watchOverflow:!0,slidesPerView:2,spaceBetween:0,pagination:{el:".also-buy-swiper-pagination",type:"bullets"},breakpoints:{1440:{slidesPerView:4,navigation:{nextEl:".also-buy-swiper-next",prevEl:".also-buy-swiper-prev"},pagination:{el:".also-buy-swiper-pagination",type:"fraction"},scrollbar:{el:".also-buy-swiper-scrollbar",draggable:!0}},1170:{slidesPerView:3,navigation:{nextEl:".also-buy-swiper-next",prevEl:".also-buy-swiper-prev"},pagination:{el:".also-buy-swiper-pagination",type:"fraction"},scrollbar:{el:".also-buy-swiper-scrollbar",draggable:!0}},769:{spaceBetween:6,slidesPerView:2,navigation:{nextEl:".also-buy-swiper-next",prevEl:".also-buy-swiper-prev"},pagination:{el:".also-buy-swiper-pagination",type:"fraction"},scrollbar:{el:".also-buy-swiper-scrollbar",draggable:!0}}}});if(document.querySelector(".recently-watched__swiper"))new Swiper(".recently-watched__swiper",{watchOverflow:!0,slidesPerView:2,spaceBetween:0,pagination:{el:".recently-swiper-pagination",type:"bullets"},breakpoints:{1440:{slidesPerView:4,navigation:{nextEl:".recently-swiper-next",prevEl:".recently-swiper-prev"},pagination:{el:".recently-swiper-pagination",type:"fraction"},scrollbar:{el:".recently-swiper-scrollbar",draggable:!0}},1170:{slidesPerView:3,navigation:{nextEl:".recently-swiper-next",prevEl:".recently-swiper-prev"},pagination:{el:".recently-swiper-pagination",type:"fraction"},scrollbar:{el:".recently-swiper-scrollbar",draggable:!0}},769:{spaceBetween:6,slidesPerView:2,navigation:{nextEl:".recently-swiper-next",prevEl:".recently-swiper-prev"},pagination:{el:".recently-swiper-pagination",type:"fraction"},scrollbar:{el:".recently-swiper-scrollbar",draggable:!0}}}});if(document.querySelector(".product-swiper ")&&window.matchMedia("(max-width: 1024px)").matches)new Swiper(".product-swiper",{breakpoints:{769:{watchOverflow:!0,spaceBetween:5,slidesPerView:2}},slidesPerView:1,pagination:{el:".product-slider-pagination",type:"bullets"}})}(),//! review
function(){var e=document.querySelector(".add-review-listener");if(e){var t=document.querySelector(".review__continer");e.addEventListener("click",(function(o){t.classList.toggle("show-review-continer"),e.querySelector("._icon-cancel").classList.toggle("rotate")}));var o=document.querySelector(".review-form");if(o){function r(e){e.style.display="block",setTimeout((function(){e.style.display="none"}),4e3)}o.addEventListener("submit",(function(e){e.preventDefault();var t=o.querySelector("#reviewer"),n=o.querySelector("#reviewerName"),a=o.querySelector("#telephoneInput"),c=o.querySelector("input:checked"),i=document.querySelector(".review__errors-tel"),s=document.querySelector(".review__errors-raiting"),l=document.querySelector(".review__errors-other"),d=document.querySelector(".review-success"),u=document.querySelector(".buy__container").getAttribute("data-id"),p=document.querySelector(".review-btn");if(""==n.value||""==a.value)r(l);else if(c)if(a.value.includes("_"))r(i);else{p.disabled=!0;var m={name:n.value,telephone:a.value,text:t.value,rating:c.value};$.ajax({url:"index.php?route=product/product/write&product_id=".concat(u),type:"post",data:m,dataType:"json",success:function(e){n.value="",a.value="",t.value="",c.checked=!1,p.disabled=!1,o.style.display="none",d.style.display="block"},error:function(e){throw n.classList.add("error-input"),a.classList.add("error-input"),t.classList.add("error-input"),p.disabled=!1,setTimeout((function(){n.classList.remove("error-input"),a.classList.remove("error-input"),t.classList.remove("error-input")}),5e3),new Error(e)}})}else r(s)}))}}var n=document.querySelectorAll(".reviewer-more");n.length>0&&document.querySelector(".card__description__rating-link").addEventListener("click",(function(e){setTimeout((function(){n.forEach((function(e){var t=e.previousElementSibling;function o(){64===t.clientHeight?(t.style.maxHeight="350px",e.style.color="#EEEAE7"):(t.style.maxHeight="64px",e.style.color="#555555")}64===t.clientHeight&&(e.style.display="block"),e.addEventListener("click",(function(e){o()})),t.addEventListener("click",(function(e){o()}))}))}),400)}))}(),//! basket
function(){var t,r,n,a=document.querySelector(".header-bag"),c=document.querySelector("#menu__mobile-modal"),i=document.querySelector(".ordering__wrapper"),s=document.getElementById("infoAvailability");function l(){var e=document.querySelectorAll(".basket__item");i&&0==e.length?window.location.replace(window.location.origin):i||0!=e.length?i||0===e.length||(t.querySelector(".basket__empty").style.display="none",t.querySelector(".basket__count-container").style.display="block",t.querySelector(".basket__submit-cont").style.display="flex"):(t.querySelector(".basket__empty").style.display="block",t.querySelector(".basket__count-container").style.display="none",t.querySelector(".basket__submit-cont").style.display="none")}function d(e){var t=document.querySelector(".products-total");o(t),e>0&&t.insertAdjacentHTML("beforeend","(".concat(e,")"))}function u(e){var t=document.querySelector(".item-sum");document.querySelector(".item-count-number").textContent=e.products_total_count,0==e.sale_total_price?t.textContent=e.product_total_price:t.textContent=e.sale_total_price}function p(){document.querySelector("#universalModal").querySelectorAll(".universalModal").forEach((function(e){e.style.display="none"})),document.querySelector(".importantSizeModal").style.display="block",$("#universalModal").modal()}a&&(r=(t=document.querySelector(".header__basket-wrapper")).querySelector(".close-basket"),n=t.querySelector(".basket__submit-continue")),a&&(a.addEventListener("click",(function(e){e.target.classList.contains("header-bag")&&(t.classList.toggle("show-effect"),c.classList.toggle("active-modal-basket")),l()})),r.addEventListener("click",(function(e){t.classList.toggle("show-effect"),c.classList.toggle("active-modal-basket")})),n.addEventListener("click",(function(e){t.classList.toggle("show-effect"),c.classList.toggle("active-modal-basket")})),document.addEventListener("click",(function(e){var o=e.target;!
//! доработать функцию!
function(e,o,r){var n=r==e||e.contains(r),a=r==o,i=e.classList.contains("show-effect");n||a||!i||(t.classList.toggle("show-effect"),c.classList.toggle("active-modal-basket"))}(t,a,o)})));var m=document.querySelector(".buy__container-btn");m&&m.addEventListener("click",(function(e){var t=document.querySelector(".main-sizes").querySelector(".active-size");if(t){var o=t.parentNode.getAttribute("data-id"),r=t.textContent,n=t.getAttribute("data-shop");"ONE"==r?h(o,n):h(o,n,r),g(n),t.classList.toggle("active-size")}else p()}));var y=document.querySelectorAll(".city__reserve");function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ONE",r=s.querySelector(".pre-size");o(r),r.insertAdjacentHTML("afterbegin",'<button type="button" class="card__description-size" data-confirm='.concat(e,">").concat(t,"</button>")),$(s).modal()}function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ONE",n=document.querySelector("#preOrderModal"),a=n.querySelector(".pre-size");o(a),a.insertAdjacentHTML("afterbegin",'<button type="button" class="card__description-size" data-shop="'.concat(t,'" data-confirm=').concat(e,">").concat(r,"</button>")),$("#preOrderModal").modal()}y.length>0&&y.forEach((function(e){e.addEventListener("click",(function(t){var o=e.parentNode.querySelector(".active-size");if(o){var r=e.parentNode.getAttribute("data-id"),n=o.textContent,a=e.parentNode.getAttribute("data-shop");"ONE"==n?h(r,a):h(r,a,n),g(a),o.classList.toggle("active-size"),$("#availability").modal("toggle")}else $("#availability").modal("toggle"),p()}))})),document.querySelectorAll("[data-stock-status]").forEach((function(e){e.addEventListener("click",(function(t){var o=e.getAttribute("data-stock-status"),r=e.parentNode,n=r.classList,a=r.getAttribute("data-id"),c=r.getAttribute("data-shop"),i=e.textContent,s=e.parentNode.parentNode.parentNode.classList.contains("city__sizes"),l=e.parentNode.parentNode.parentNode.getAttribute("data-shop"),d=e.parentNode.parentNode.parentNode.getAttribute("data-id");function u(t){1!=o||13!=t&&14!=t?1==o&&12==t?(g(c),h(a,c)):1==o&&11==t?(g(c),h(a,c,i)):2==o&&13==t?"ONE"==i?_(a,c):_(a,c,i):2==o&&12==t?_(a,c):2==o&&11==t?_(a,c,i):3==o&&12==t?f(a):3==o&&11==t?f(a,i):3==o&&13==t?"ONE"==i?f(a):f(a,i):2==o&&14==t||3==o&&14==t?(_(d,l,i),$("#availability").modal("hide")):1==o&&15==t||1==o&&17==t?(g(c),h(a,c)):2==o&&15==t||2==o&&17==t?_(a,c):3==o&&15==t||3==o&&17==t?f(a):1==o&&16==t?(g(c),h(a,c)):(2==o&&16==t||3==o&&16==t)&&_(a,c):(e.parentNode.querySelectorAll(".card__description-size").forEach((function(e){e.classList.remove("active-size")})),e.classList.toggle("active-size"))}window.matchMedia("(min-width: 640px)").matches&&n.contains("product__sizes-container")?u(11):n.contains("product__buy-container")?u(12):n.contains("card__description__sizes-block")&&!s?u(13):s?u(14):n.contains("buy__container")?u(15):n.contains("city__sizes")?($("#availability").modal("hide"),u(16)):n.contains("table__btns-container")&&u(17)}))}));var v=document.querySelector(".confirm__pre-order");function g(e){var t={shop_id:e};$.ajax({url:"index.php?route=product/product/resorvedOfflineProduct",type:"post",data:t,dataType:"json",success:function(e){console.log("ok")},error:function(e){throw new Error(e)}})}function h(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r={product_id:e,quantity:1,shop_id:t,option:_defineProperty({},e,o)};$.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:r,dataType:"json",success:function(e){b(e)},error:function(e){throw new Error(e)}})}function b(e){var r=document.querySelector(".basket__items"),n=document.querySelector(".basket__count-container");o(r),o(n),n.insertAdjacentHTML("beforeend",'\n\t\t\t\t<div class="basket__count">\n                    <div class="basket__count-title">'.concat(e.total[0].product_total_title,'</div>\n                    <div class="basket__count-price">').concat(e.total[0].product_total_price,"</div>\n                </div>\n\t\t\t")),e.cart.forEach((function(e){r.insertAdjacentHTML("beforeend",'\n\t\t\t\t\t<div class="basket__item">\n\t\t\t\t\t\t<a href="'.concat(e.product_href,'" class="basket__img">\n\t\t\t\t\t\t\t<img src="').concat(e.product_thumb,'" alt="">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div class="basket__info">\n\t\t\t\t\t\t\t<div class="basket__info-title">\n\t\t\t\t\t\t\t\t<a href="').concat(e.product_href,'" class="basket__info-title-text">').concat(e.product_name,'</a>\n\t\t\t\t\t\t\t\t<div role="button" class="_icon-cancel" data-remove-id=').concat(e.cart_id,'></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="basket__info-art">Арт. ').concat(e.product_sku,'</div>\n\t\t\t\t\t\t\t<div class="basket__info__details">\n\t\t\t\t\t\t\t\t<div class="basket__info__details-sub">\n\t\t\t\t\t\t\t\t\t<div class="basket__info__details-size">').concat(e.product_size,'</div>\n\t\t\t\t\t\t\t\t\t<div class="basket__info__details-amount">\n\t\t\t\t\t\t\t\t\t\t<div class="spinner-basket-container">\n\t\t\t\t\t\t\t\t\t\t\t<div class="spinner-border spinner-basket" role="status">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="sr-only">Загрузка...</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<button class="step stepDown" type="button" data-edit-id="').concat(e.cart_id,'">-</button>\n\t\t\t\t\t\t\t\t\t\t<input type="number" min="1" max="').concat(e.max,'" value="').concat(e.product_quantity,'" readonly="" class="details-amount">\n\t\t\t\t\t\t\t\t\t\t<button class="step stepUp" type="button" data-edit-id="').concat(e.cart_id,'">+</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="basket__info__price">\n\t\t\t\t\t\t\t\t\t<div class="basket__info__price-title">').concat(e.product_title,'</div>\n\t\t\t\t\t\t\t\t\t<div class="basket__info__price-cost">').concat(e.product_price,"</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t"))})),t.classList.toggle("show-effect"),c.classList.toggle("active-modal-basket"),d(e.total[0].products_total_count),k(),l(),S()}function S(){var e=document.querySelectorAll(".step");e.length>0&&e.forEach((function(e){e.addEventListener("click",(function(t){var o=e.parentNode.querySelector(".details-amount").value,r=e.getAttribute("data-edit-id");e.classList.contains("stepUp")&&!e.classList.contains("disabled-item")&&w(o,r,"+",e),e.classList.contains("stepDown")&&w(o,r,"-",e)}))}))}function w(t,o,r,n){var a=n.parentNode.querySelector(".spinner-basket-container"),c="",s="",l="";document.querySelector(".shopping__inform-promo")&&(c=document.querySelector(".shopping__inform-promo").value),document.querySelector(".shopping__inform-certificate")&&(s=document.querySelector(".shopping__inform-certificate").value),i&&(l=n.parentNode.parentNode.parentNode.parentNode.parentNode.getAttribute("data-magazine-id"));var p={quantity:t,key:o,step:r,promo:c,certificate:s,shop_id:l};console.log(l),$.ajax({url:"index.php?route=checkout/cart/edit",type:"post",data:p,dataType:"json",beforeSend:function(){e(a,"flex")},success:function(t){(e(a,"none"),t.is_max)?n.classList.add("disabled-item"):(n.parentNode.querySelector(".stepUp").classList.remove("disabled-item"),i?(q(t,n),u(t)):(q(t,n),d(t.products_total_count)))},error:function(t){throw e(a,"none"),new Error(t)}})}function q(e,t){var o=document.querySelector(".basket__count-price");if(e.value>0){var r=t.parentNode.querySelector(".details-amount"),n=t.parentNode.parentNode.parentNode.querySelector(".basket__info__price-cost");r.value=e.value,o.innerHTML=e.product_total_price,n.innerHTML=e.product_total}else t.parentNode.parentNode.parentNode.parentNode.parentNode.remove(),o.innerHTML=e.product_total_price;l()}function k(){var e=document.querySelectorAll("[data-remove-id]");e.length>0&&e.forEach((function(e){e.addEventListener("click",(function(t){i?function(e){var t=e.parentNode.parentNode.parentNode.querySelector(".confirm__basket");t.style.display="flex",document.addEventListener("click",(function(o){var r=o.target,n=r==t||t.contains(r),a=r==e,c=t.style.display="flex",i=r.classList.contains("confirm__basket-no"),s=r.classList.contains("confirm__basket-yes");(!n&&!a&&c||i||s)&&(t.style.display="none")}))}(e):L(e.getAttribute("data-remove-id"),e)}))}))}function L(e,t){var o="",r="";document.querySelector(".shopping__inform-promo")&&(o=document.querySelector(".shopping__inform-promo").value),document.querySelector(".shopping__inform-certificate")&&(r=document.querySelector(".shopping__inform-certificate").value),data={key:e,promo:o,certificate:r},$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:data,dataType:"json",success:function(e){i?(t.parentNode.parentNode.parentNode.remove(),t.parentNode.parentNode.parentNode.remove(),document.querySelector(".basket__count-price").innerHTML=e.product_total_price,u(e),l()):(t.parentNode.parentNode.parentNode.remove(),document.querySelector(".basket__count-price").innerHTML=e.product_total_price,l(),d(e.products_total_count))},error:function(e){console.log(e)}})}v&&v.addEventListener("click",(function(e){var t=document.querySelector("[data-confirm]"),o=t.getAttribute("data-confirm"),r=t.getAttribute("data-shop"),n=t.textContent;"ONE"==n?h(o,r):h(o,r,n),g(r)})),S(),k(),i&&document.querySelectorAll(".confirm__basket-yes").forEach((function(e){e.addEventListener("click",(function(){var t=e.parentNode.parentNode.parentNode.querySelector("[data-remove-id]");L(t.getAttribute("data-remove-id"),t)}))}));var E=document.querySelectorAll(".personal__title");E.length>0&&E.forEach((function(e){e.addEventListener("click",(function(e){E.forEach((function(e){var t,o,r,n,a;e.classList.toggle("active-title"),t=document.querySelector(".personal-new"),o=document.querySelector(".personal-loged"),r=document.querySelector(".order__user-wrapper"),n=document.querySelector(".login__user-wrapper"),a=document.querySelector(".delivery__methods"),t.classList.contains("active-title")?(r.style.display="block",n.style.display="none",a.style.display="block"):o.classList.contains("active-title")&&(r.style.display="none",n.style.display="flex",a.style.display="none")}))}))}))}(),//! other change
function(){var e=document.querySelector(".filters");if(e){var r=document.querySelector(".init-container-btn"),n=document.querySelector(".close-filters");function a(){var t=document.querySelectorAll(".noUi-handle");window.matchMedia("(max-width: 1110px)").matches&&e.classList.contains("show-effect")?document.querySelector("body").style.overflow="hidden":document.querySelector("body").style.overflow="auto",e.classList.contains("show-effect")?setTimeout((function(){e.style.boxShadow="0 1px 4px -1px rgba(0, 0, 0, 0.75)",t.forEach((function(e){e.style.border="1px solid #30313229",e.style.borderRadius="50%"}))}),100):(e.style.boxShadow="none",t.forEach((function(e){e.style.border="none",e.style.borderRadius="0"})))}function c(){$(".filters-select2").select2({closeOnSelect:!1,dropdownCssClass:"filters-dropdown",language:{noResults:function(){return"..."}},width:"100%",allowHtml:!0,allowClear:!0}).each((function(){!function(e){e.next().find(".select2-selection__choice__remove").remove(),e.next().find(".select2-selection__clear").text("").addClass("_icon-cancel");var t=e.next().find(".select2-selection__choice").length,o=e.attr("data-text");t>1&&(e.next().find(".select2-selection__choice").remove(),e.next().find(".select2-selection__rendered").append('<li class="select2-selection__choice">'.concat(o,": ").concat(t,"</li>")));t>0&&e.next().find(".select2-search--inline").css("display","none")}($(this)),$(this).on("change",(function(){$(this).next().find(".select2-selection__choice__remove").remove(),$(this).next().find(".select2-selection__clear").text("").addClass("_icon-cancel");var e=$(this).next().find(".select2-selection__choice").length,t=$(this).attr("data-text");e>1&&($(this).next().find(".select2-selection__choice").remove(),$(this).next().find(".select2-selection__rendered").append('<li class="select2-selection__choice">'.concat(t,": ").concat(e,"</li>"))),e>0?$(this).next().find(".select2-search--inline").css("display","none"):$(this).next().find(".select2-search--inline").css("display","inline-block")}))}))}if(document.querySelector(".filter-title-close").addEventListener("click",(function(){e.classList.toggle("show-effect"),a()})),n.addEventListener("click",(function(){e.classList.toggle("show-effect"),a()})),r.addEventListener("click",(function(){e.classList.toggle("show-effect"),a()})),window.matchMedia("(min-width: 1110px)").matches&&window.addEventListener("resize",(function(e){c()}),!0),c(),window.matchMedia("(max-width: 1110px)").matches){var i=document.querySelector(".filter-size-js"),s=document.querySelector(".filter-params-js"),l=document.querySelector(".filter-price-js"),d=document.querySelector(".filter-regulate-js"),u=document.getElementById("filterSize"),p=document.getElementById("filterPrice"),m=document.getElementById("filterParams"),y=document.getElementById("filterRegulate");m&&(m.classList.add("collapse"),s.addEventListener("click",(function(){$("#filterParams").collapse("toggle"),s.querySelector(".icon").classList.toggle("rotate270")}))),u.classList.add("collapse"),p.classList.add("collapse"),y.classList.add("collapse"),i.addEventListener("click",(function(){$("#filterSize").collapse("toggle"),i.querySelector(".icon").classList.toggle("rotate270")})),l.addEventListener("click",(function(){$("#filterPrice").collapse("toggle"),l.querySelector(".icon").classList.toggle("rotate270")})),d.addEventListener("click",(function(){$("#filterRegulate").collapse("toggle"),d.querySelector(".icon").classList.toggle("rotate270")}))}var f=document.getElementById("noUiSliderRange"),_=document.getElementById("inputMin"),v=document.getElementById("inputMax"),g=_.getAttribute("data-chose"),h=v.getAttribute("data-chose");noUiSlider.create(f,{start:[Number(g),Number(h)],step:100,connect:!0,range:{min:Number(_.value),max:Number(v.value)}}),f.noUiSlider.on("update",(function(e,t){var o=e[t];t?v.value=Number(o):_.value=Number(o)}));var b=document.getElementById("filtersForm");b.addEventListener("submit",(function(e){e.preventDefault();var t=document.getElementById("filtersCapcha"),o=document.getElementById("filterParams"),r=document.getElementById("filterSize");if(""==t.value){if(o){var n=[],a=document.getElementById("allFilters");a.value=n;var c=o.querySelectorAll("option:checked");c.length>0&&(c.forEach((function(e){n.push(e.value)})),a.value=n)}var i=[],s=document.getElementById("allSizes");s.value=i;var l=r.querySelectorAll("option:checked");l.length>0&&(l.forEach((function(e){i.push(e.value)})),s.value=i),b.submit()}console.log()}))}var S=document.querySelectorAll("[data-page]");S.length>0&&S.forEach((function(e){e.addEventListener("click",(function(){var t=document.querySelector(".pagination-page-input");t.value=e.getAttribute("data-page"),document.querySelector(".pagination-path-input").value=e.getAttribute("data-path");var o=document.querySelector("#paginationForm");o.setAttribute("action",t.value),o.submit()}))}));document.querySelector(".history-container");if(document.querySelector(".user-data-container")){document.querySelectorAll(".input-words").forEach((function(e){e.addEventListener("input",(function(t){e.value=e.value.replace(/[^a-zа-яёії\s]/gi,"")}))}));var w,q,k,L,E=document.querySelector(".person-telephone"),x=document.querySelector(".personal__modal-label"),A=document.querySelector(".confirmation__container"),T=document.querySelector(".confirm-btn"),N=document.querySelector(".confirmed-text"),j=document.querySelector(".confirm-number-title"),C=document.querySelector(".personal__send-code"),I=document.querySelector(".personal__refresh-code");function B(){if(""!==E.value&&!E.value.includes("_")){T.disabled=!0;var e=E.value.replace("(","").replace(")","");j.textContent=e,function(e){z.apply(this,arguments)}(k={phone:e})}}function z(){return(z=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.ajax({url:"index.php?route=account/login/turboSmsGetCode",type:"post",data:t,dataType:"json",success:function(e){console.log(e),!0===e.send_sms&&($("#personalConfirm").modal(),T.disabled=!1,q=e.send_code,t=e.phone,L=setTimeout((function(){return I.style.display="block"}),6e4))},error:function(e){throw T.disabled=!1,new Error(e)}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.ajax({url:"index.php?route=account/login/turboSmsCheckCode",type:"post",data:t,dataType:"json",success:function(e){C.disabled=!1,e.code_matching?P():!e.code_matching&&e.try_count<=5?(x.classList.add("error-label"),document.querySelector(".personal__modal-code").classList.add("error-input"),setTimeout((function(){x.remove("error-label"),document.querySelector(".personal__modal-code").classList.remove("error-input")}),5e3),document.querySelector(".personal__error-number").style.display="block",document.querySelector(".personal__error-number").textContent=e.code_error):!e.code_matching&&e.try_count>5&&(x.classList.add("error-label"),document.querySelector(".personal__modal-code").classList.add("error-input"),setTimeout((function(){x.classList.remove("error-label"),document.querySelector(".personal__modal-code").classList.remove("error-input")}),5e3),document.querySelector(".personal__error-number").style.display="block",document.querySelector(".personal__error-number").textContent=e.code_error,I.style.display="block",clearTimeout(L))},error:function(e){throw C.disabled=!1,x.classList.add("error-label"),document.querySelector(".personal__modal-code").classList.add("error-input"),setTimeout((function(){x.classList.remove("error-label"),document.querySelector(".personal__modal-code").classList.remove("error-input")}),5e3),new Error(e)}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){$("#personalConfirm").modal("hide"),R(),T.style.display="none",N.style.display="flex";var e=document.querySelector(".person-telephone");w=e.value}function R(){document.querySelector(".personal__send-code").value="",document.querySelector(".personal__error-number").style.display="none",j.textContent="",clearTimeout(L),I.style.display="none",T.disabled=!1,C.disabled=!1}function O(){return(O=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.ajax({url:"index.php?route=account/login/turboSmsClearAttemps",type:"post",data:t,dataType:"json",success:function(){},error:function(e){throw $("#personalConfirm").modal("hide"),new Error(e)}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""===E.value||E.value.includes("_")||(w=E.value),document.querySelector("#user-data").addEventListener("submit",(function(e){e.preventDefault();var t,o,r,n,a,c,i,s=document.querySelector(".user-persone-capcha"),l=document.querySelector(".person-telephone"),d=document.querySelector(".user-telephone-message");w==l.value&&""==s.value?function(e){$.ajax({url:"index.php?route=account/account/edit",dataType:"json",type:"post",data:e,beforeSend:function(){document.querySelector(".personal-btn").disabled=!0},success:function(e){window.location.href="index.php?route=account/account"},error:function(e){document.querySelector(".personal-btn").disabled=!1,console.log(e)}})}((t=document.getElementById("user-lastname"),o=document.getElementById("user-firstname"),r=document.getElementById("user-patronymic"),n=document.getElementById("user-email"),a=document.getElementById("user-date_of_birth"),c=document.getElementById("user-telephone").value.replace("(","").replace(")",""),i=document.getElementById("user-gender"),{lastname:t.value,firstname:o.value,middlename:r.value,email:n.value,telephone:c,date_of_birth:a.value,gender:i.value})):(d.style.display="block",setTimeout((function(){d.style.display="none"}),5e3))})),E.addEventListener("keyup",(function(e){var t=document.querySelector(".person-telephone");w==t.value?(N.style.display="flex",T.style.display="none",A.classList.add("hight-container")):(N.style.display="none",T.style.display="block",A.classList.add("hight-container"))})),T.addEventListener("click",(function(e){B()})),C.addEventListener("click",(function(e){!function(){var e=document.querySelector(".personal__modal-code");if(6==e.value.length){!function(e){M.apply(this,arguments)}({sms_code:e.value,opencart_code:q,phone:k}),C.disabled=!0}}()})),$("#personalConfirm").on("hidden.bs.modal",(function(e){R()})),I.addEventListener("click",(function(e){var t=E.value.replace("(","").replace(")","");j.textContent=t,function(e){O.apply(this,arguments)}(k={phone:t}),setTimeout((function(){return B()}),400),R(),L=setTimeout((function(){return I.style.display="block"}),6e4)}))}window.matchMedia("(max-width: 650px)").matches&&function(){var e=document.querySelector(".user-menu"),t=document.querySelector("body");if(e){var o=document.querySelector(".close-item"),r=document.querySelector(".personal__information__wrapper");e.addEventListener("click",(function(){r.classList.toggle("show-effect"),t.classList.toggle("body-not-scroll")}),!0),o.addEventListener("click",(function(){r.classList.toggle("show-effect"),t.classList.toggle("body-not-scroll")}),!0)}}(),window.matchMedia("(min-width: 640px)").matches&&document.querySelectorAll(".product__buy-container").forEach((function(e){e.addEventListener("click",(function(t){e.classList.contains("long-size")||t.preventDefault()}))}));var H=document.querySelector(".compare__card-link");if(H){H.addEventListener("click",(function(e){var t,o,r=document.querySelector(".compare__card-container").querySelector("._icon-checked"),n=r.classList.contains("compare-init");if(n||"0"!=getComputedStyle(r).opacity)n||e.preventDefault();else{e.preventDefault(),r.classList.add("opacity-checked");var a=document.querySelector(".buy__container").getAttribute("data-id");t=a,o=r,$.ajax({url:"index.php?route=product/compare/add",type:"post",data:"product_id="+t,dataType:"json",success:function(e){e.total>1&&o.classList.add("compare-init"),console.log(e)},error:function(e){throw new Error(e)}})}}))}var V=document.querySelector(".compare__wrapper"),D=document.querySelectorAll(".custom-checkbox"),G=document.getElementById("mainCompare");V&&D.length>0&&D.forEach((function(e){e.addEventListener("change",(function(e){G.submit()}))}));var F=document.querySelectorAll(".favorit"),U=document.querySelector(".unknown-user");(F.forEach((function(e){e.addEventListener("click",(function(t){var o=e.parentNode.querySelector("[data-id]"),r=document.querySelector(".header-favorites"),n=t.target;if(U)document.querySelector("#universalModal").querySelectorAll(".universalModal").forEach((function(e){e.style.display="none"})),document.querySelector(".favoriteModal").style.display="block",$("#universalModal").modal();else if(o){o=o.getAttribute("data-id");var a=e.parentNode,c=e.parentNode.getAttribute("data-json");i(o,n,JSON.parse(c),a)}else{i(document.querySelector(".card__container").querySelector("[data-id]").getAttribute("data-id"),n)}function i(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$.ajax({url:"index.php?route=account/wishlist/add",type:"post",data:"product_id="+e,dataType:"json",success:function(a){o&&(o.forEach((function(t){t.product_id==e&&(t.added_to_wishlist=a.added_to_wishlist)})),n.setAttribute("data-json",JSON.stringify(o))),a.total>0?r.textContent="(".concat(a.total,")"):r.textContent="",t.classList.contains("_icon-favorites")?(t.classList.remove("_icon-favorites"),t.classList.add("_icon-favorites-fill")):t.classList.contains("_icon-favorites-fill")&&(t.classList.remove("_icon-favorites-fill"),t.classList.add("_icon-favorites"))},error:function(e){throw new Error(e)}})}}))})),document.querySelector(".grid__favorite-wrapper"))&&document.querySelectorAll("._icon-favorites-fill").forEach((function(e){e.addEventListener("click",(function(){e.parentNode.parentNode.parentNode.remove(),0==document.querySelectorAll(".product__card-container-item").length&&(document.querySelector(".top__filters-wrapper").style.display="none",document.querySelector(".top__favorite-add-text").style.display="block",document.querySelector(".top__favorite-add-link").style.display="inline-block")}))}));var Y=document.querySelector(".grid__catalog-container");Y&&(window.onresize=function(){window.matchMedia("(max-width: 767px)").matches&&(Y.classList.remove("grid__catalog-container-2"),Y.classList.remove("grid__catalog-container-3"),Y.classList.add("grid__catalog-container"))},document.querySelectorAll(".top__pagination-item").forEach((function(e){e.addEventListener("click",(function(o){e.parentNode.querySelectorAll(".look-by-active").forEach((function(e){return e.classList.toggle("look-by-active")})),e.classList.toggle("look-by-active");var r=e.getAttribute("data-look");Y.classList.remove("grid__catalog-container-2"),Y.classList.remove("grid__catalog-container-3"),Y.classList.remove("grid__catalog-container"),Y.classList.add(r),Array.isArray(t)?t.map((function(e){e.update()})):t.update()}))})));var W=document.querySelector("#checkoutForm");if(W){$(".select__order-deliver").select2({minimumResultsForSearch:-1,width:"100%"}),$(".select__order-pay").select2({minimumResultsForSearch:-1,width:"100%"}),$(".select__order-step").select2({language:{noResults:function(){return"..."}},width:"100%"});var J,K=document.querySelector(".deliv-title"),Q=document.querySelector(".stepLabel"),X={regions:"novaposhtaRegions",settlements:"novaposhtaSettlements",warehouses:"novaposhtaWarehouses"},Z={regions:"ukrposhtaRegions",settlements:"ukrposhtaSettlements",warehouses:"ukrposhtaWarehouses"},ee={regions:"justinRegions",settlements:"justinSettlements",warehouses:"justinWarehouses"},te=document.getElementById("shop"),oe=document.getElementById("regions"),re=document.getElementById("cities"),ne=document.getElementById("warehouses"),ae=document.getElementById("shop"),ce=document.getElementById("checkoutCapcha"),ie=document.querySelector(".item-count-number"),se=document.querySelector(".item-sum"),le=document.querySelector(".spinner-order-container"),de=document.querySelector(".modal-order-body"),ue=document.querySelector(".modal-order-error"),pe=[],me=document.querySelector(".shopping__inform-promo"),ye=document.querySelector(".shopping__inform-certificate"),fe=document.querySelector("#pay"),_e=document.querySelector(".basket__count-price");function ve(e){0==e?(oe.setAttribute("required","required"),re.setAttribute("required","required"),ne.setAttribute("required","required"),ae.removeAttribute("required")):1==e&&(oe.removeAttribute("required"),re.removeAttribute("required"),ne.removeAttribute("required"),ae.setAttribute("required","required"))}function ge(e,t){var r={shipping_provider:t};$.ajax({url:"index.php?route=checkout/checkout/".concat(e),type:"post",data:r,dataType:"json",success:function(e){document.querySelector(".deliv-title").textContent=e.shipping_provider,o(oe),o(re),o(ne),e.regions.forEach((function(e){oe.insertAdjacentHTML("beforeend","<option value='".concat(e.id,"'>").concat(e.name,"</option>"))}))},error:function(e){throw new Error(e)}})}function he(e,t){var r={region_id:t};$.ajax({url:"index.php?route=checkout/checkout/".concat(e),type:"post",data:r,dataType:"json",success:function(e){o(re),o(ne),e.forEach((function(e){re.insertAdjacentHTML("beforeend","<option value='".concat(e.id,"'>").concat(e.name,"</option>"))}))},error:function(e){throw new Error(e)}})}function be(e,t){var r={settlement_id:t};$.ajax({url:"index.php?route=checkout/checkout/".concat(e),type:"post",data:r,dataType:"json",success:function(e){o(ne),e.forEach((function(e){ne.insertAdjacentHTML("beforeend","<option value='".concat(e.id,"'>").concat(e.name,"</option>"))}))},error:function(e){throw new Error(e)}})}function Se(e){var t=document.querySelector(".shopping__inform-promo"),o=document.querySelector(".shopping__inform-certificate"),r={magazine_id:e,promocode_number:t.value,sertificate_number:o.value};$.ajax({url:"index.php?route=checkout/checkout/rewriteCartByMagazine",type:"post",data:r,dataType:"json",success:function(e){!function(e){if(e.magazine_id){var t=document.querySelector(".shop-method"),o=t.querySelector(".steps-day-v1"),r=t.querySelector(".steps-day-v3");e.products.find((function(e){return 2===e.ssid}))?(o.style.display="none",r.style.display="block"):(o.style.display="block",r.style.display="none"),e.products.forEach((function(t){var o=document.querySelector('[data-find-id="'.concat(t.cart_id,'"]')),r=o.querySelector(".basket__info__details-amount"),n=o.querySelector(".basket__info__price-cost"),a=o.querySelector(".details-amount"),c=o.querySelector(".basket__under-order"),i=o.querySelector(".basket__inform");1==t.ssid?(r.style.display="block",n.classList.toggle("not-item"),c.style.display="none",i.style.display="none"):2==t.ssid&&(r.style.display="block",n.classList.toggle("not-item"),c.style.display="block",i.style.display="none"),o.setAttribute("data-magazine-id",e.magazine_id),n.textContent=t.total,a.value=t.quantity}))}else{var n=document.querySelector(".other-method"),a=n.querySelector(".steps-day-v2"),c=n.querySelector(".steps-day-v3"),i=e.products.find((function(e){return 3===e.ssid})),s=e.products.find((function(e){return 2===e.ssid})),l=e.products.filter((function(e){return 3===e.ssid})).length;i&&1==e.products.length||l==e.products.length?(a.style.display="none",c.style.display="none"):s?(a.style.display="none",c.style.display="block"):(a.style.display="block",c.style.display="none"),e.products.forEach((function(e){var t=document.querySelector('[data-find-id="'.concat(e.cart_id,'"]')),o=t.querySelector(".basket__info__details-amount"),r=t.querySelector(".basket__info__price-cost"),n=t.querySelector(".details-amount"),a=t.querySelector(".basket__under-order"),c=t.querySelector(".basket__inform");1==e.ssid?(o.style.display="block",r.classList.toggle("not-item"),a.style.display="none",c.style.display="none"):2==e.ssid?(o.style.display="block",r.classList.toggle("not-item"),a.style.display="block",c.style.display="none"):3==e.ssid&&(o.style.display="none",r.classList.toggle("not-item"),a.style.display="none",c.style.display="block"),t.setAttribute("data-magazine-id","0"),r.textContent=e.total,n.value=e.quantity}))}ie.textContent=e.checkout_cart_total_products,_e.textContent=e.checkout_cart_total_price}(e)},error:function(e){throw new Error(e)}})}function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ONE",r=document.getElementById("infoAvailability"),n=r.querySelector(".pre-size");o(n),n.insertAdjacentHTML("afterbegin",'<button type="button" class="card__description-size" data-confirm='.concat(e,">").concat(t,"</button>")),$(r).modal()}"0"==document.querySelector(".select__order-deliver").value&&(ve(1),document.querySelector(".shop-method").style.display="block",document.querySelector(".other-method").style.display="none",K.textContent=Q.textContent),$(".select__order-deliver").on("select2:select",(function(e){if(0==e.params.data.id){ve(1),document.querySelector(".shop-method").style.display="block",document.querySelector(".other-method").style.display="none",K.textContent=Q.textContent,te.querySelector("option:checked").removeAttribute("selected"),document.querySelector("#select2-shop-container").textContent="";var t=document.querySelector(".shop-method");t.querySelector(".steps-day-v1").style.display="none",t.querySelector(".steps-day-v3").style.display="none"}else ve(0),Se("0"),document.querySelector(".other-method").style.display="block",document.querySelector(".shop-method").style.display="none";1==e.params.data.id?(ge(X.regions,e.params.data.text),J=1):2==e.params.data.id?(ge(Z.regions,e.params.data.text),J=2):3==e.params.data.id&&(ge(ee.regions,e.params.data.text),J=3)})),$(".select__order-step").on("select2:select",(function(e){var t=e.params.data._resultId;t.includes("regions")?1==J?he(X.settlements,e.params.data.id):2==J?he(Z.settlements,e.params.data.id):3==J&&he(ee.settlements,e.params.data.id):t.includes("cities")?1==J?be(X.warehouses,e.params.data.id):2==J?be(Z.warehouses,e.params.data.id):3==J&&be(ee.warehouses,e.params.data.id):t.includes("shop")&&Se(e.params.data.id)})),ye.addEventListener("input",(function(e){(ye.classList.remove("valid-promocode"),ye.value.length>2)&&function(e){$.ajax({url:"index.php?route=checkout/checkout/calculateSertificate",type:"post",data:e,dataType:"json",success:function(e){e.coincidence_code?(ye.classList.add("valid-promocode"),se.textContent=e.total,me.setAttribute("readonly",!0)):(ye.classList.remove("valid-promocode"),se.textContent=e.total,me.removeAttribute("readonly"))},error:function(e){throw new Error(e)}})}({sertificate_number:ye.value})})),me.addEventListener("input",(function(e){(me.classList.remove("valid-promocode"),me.value.length>2)&&function(e){$.ajax({url:"index.php?route=checkout/checkout/calculatePromocode",type:"post",data:e,dataType:"json",success:function(e){e.coincidence_code?(me.classList.add("valid-promocode"),se.textContent=e.total,ye.setAttribute("readonly",!0)):(me.classList.remove("valid-promocode"),se.textContent=e.total,ye.removeAttribute("readonly"))},error:function(e){throw new Error(e)}})}({promocode_number:me.value})})),document.querySelectorAll(".basket__inform").forEach((function(e){e.addEventListener("click",(function(t){var o=e.parentNode.parentNode.getAttribute("data-id"),r=e.parentNode.parentNode.querySelector(".basket__info__details-size").textContent;""==r?we(o):we(o,r)}))})),W.addEventListener("submit",(function(e){var t,o,r,n,a,c,i;e.preventDefault(),""==ce.value&&(document.querySelectorAll("[data-id]").forEach((function(e){var t={product_id:e.getAttribute("data-id"),size:e.querySelector("[data-product-size]").getAttribute("data-product-size")};pe.push(t)})),function(e){$.ajax({url:"index.php?route=checkout/checkout/addOrder",type:"post",data:e,dataType:"json",beforeSend:function(){$("#orderModal").modal()},success:function(e){1==fe.value?(le.style.display="none",de.style.display="block",$("#orderModal").on("hidden.bs.modal",(function(e){window.location.replace(window.location.origin)})),function(e){var t=document.querySelector(".order__modal-number-span"),o=document.querySelector(".check-deliv"),r=document.querySelector(".check-pay"),n=document.querySelector(".sum-total-count"),a=document.querySelector(".order__modal__sum-items");t.textContent=e.order_number,o.textContent=e.delivery_method,r.textContent=e.payment_method,n.textContent=e.total_sale_pay,e.products.forEach((function(e){a.insertAdjacentHTML("beforeend",'\n\t\t\t\t\t\t<div class="order__modal__sum-item">\n\t\t\t\t\t\t\t<p class="items-title">'.concat(e.title,'</p>\n\t\t\t\t\t\t\t<div class="items-info">\n\t\t\t\t\t\t\t\t<span class="info-size">').concat(e.size,'</span>\n\t\t\t\t\t\t\t\t<div class="info-price">\n\t\t\t\t\t\t\t\t\t<span>').concat(e.amount,'</span>\n\t\t\t\t\t\t\t\t\t<span class="_icon-cancel"></span>\n\t\t\t\t\t\t\t\t\t<span>').concat(e.sum_price,"</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"))}))}(e)):(!function(e){var t={order_id:e};$.ajax({url:"index.php?route=checkout/checkout/paymentWithLiqpay",type:"post",data:t,dataType:"json",success:function(e){!function(e){document.querySelector(".modal-order-body").insertAdjacentHTML("afterend","".concat(e)),document.querySelector("#liqPayFormSubmitForm").submit()}(e)},error:function(e){throw new Error(e)}})}(e.order_id),$("#orderModal").on("hidden.bs.modal",(function(e){window.location.replace(window.location.origin)})))},error:function(e){throw le.style.display="none",ue.style.display="block",new Error(e)}})}((t=document.querySelector("#lastname").value,o=document.querySelector("#firstname").value,r=document.querySelector("#middlename").value,n=document.querySelector("#orderEmail").value,a=document.querySelector("#customer_telephone").value,c=document.querySelector("#comment").value,i=document.querySelector("#orderMethod").value,{lastname:t,firstname:o,middlename:r,orderEmail:n,custTel:a,comment:c,orderMethod:i,regions:oe.value,cities:re.value,warehouses:ne.value,pay:fe.value,shop:ae.value,promo:me.value,certificate:ye.value,products:pe})))}))}var qe=document.querySelector(".nuot__grid-wrapper");qe&&qe.addEventListener("click",(function(e){e.target.parentNode.classList.contains("button-link")||(window.location.href="index.php?route=nuot/nuot_page")}));var ke,Le,Ee=document.querySelector(".card__container");if(Ee){var xe,Ae,Te=[],Ne=Ee.querySelector("[data-id]").getAttribute("data-id"),je=Ee.getAttribute("data-authuser"),Ce=(ke="recently_watched",(Le=document.cookie.match(new RegExp("(?:^|; )"+ke.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(Le[1]):void 0);if(xe=""!=je&&je,void 0!==Ce){var $e=JSON.parse(Ce);$e.products.push(Ne);var Ie=$e.products;Te=_toConsumableArray(new Set(Ie))}else Te.push(Ne);Ae={products:Te,user_id:xe},document.cookie="recently_watched="+JSON.stringify(Ae)+"; max-age=86400"}var Be=document.querySelector(".slider-cards__swiper"),ze=document.querySelectorAll(".product__card-container-item");(Be||ze.length>0)&&document.querySelectorAll("div[data-prod-id]").forEach((function(e){e.addEventListener("click",(function(o){var r=e.getAttribute("data-prod-id"),n=e.parentNode.parentNode.parentNode,a=n.querySelector("[data-json]"),c=n.querySelector("[data-id]"),i=a.getAttribute("data-json"),s=JSON.parse(i),l=a.querySelector(".favorit");e.parentNode.querySelector(".focus-prod").classList.remove("focus-prod"),e.classList.add("focus-prod"),s.forEach((function(e){if(e.product_id==r){var o=n.querySelector(".product__buy-container");o.setAttribute("href",e.href);var a=o.querySelector(".product__sizes-container");n.querySelector(".product__card-sub-wrapper").setAttribute("href",e.href),c.setAttribute("data-id",e.product_id);var i=n.querySelector("._icon-bag");if(a){for(;a.firstChild;)a.removeChild(a.firstChild);e.sizes.forEach((function(e){2==e.stock_status_id?a.insertAdjacentHTML("beforeend",'\n                                            <button class="product__sizes-item item-active" type="button" data-stock-status="'.concat(e.stock_status_id,'">').concat(e.size,"</button>\n                                        ")):3==e.stock_status_id?a.insertAdjacentHTML("beforeend",'\n                                            <button class="product__sizes-item inform-card" type="button" data-stock-status="'.concat(e.stock_status_id,'">').concat(e.size,"</button>\n                                        ")):1==e.stock_status_id&&a.insertAdjacentHTML("beforeend",'\n                                            <button class="product__sizes-item" type="button" data-stock-status="'.concat(e.stock_status_id,'">').concat(e.size,"</button>\n                                        "))}))}else i&&e.sizes.forEach((function(e){i.setAttribute("data-stock-status",e.stock_status_id)}));for(var s=n.querySelector(".product__card-sub-wrapper");s.firstChild;)s.removeChild(s.firstChild);e.images.forEach((function(e){s.insertAdjacentHTML("afterbegin",'\n\t\t\t\t\t\t\t\t\t\t<div class="product__card-img-cont swiper-slide">\n\t\t\t\t\t\t\t\t\t\t\t<img class="slide-img" src="'.concat(e,'">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t'))})),Array.isArray(t)?t.map((function(e){e.update()})):t.update(),e.added_to_wishlist?(l.classList.remove("_icon-favorites"),l.classList.add("_icon-favorites-fill")):(l.classList.add("_icon-favorites"),l.classList.remove("_icon-favorites-fill"))}}))}))}));var Me=document.querySelector("#newstler"),Pe=document.querySelector(".footer__sub-action"),Re=document.querySelector(".footer__sub-success");Me&&Me.addEventListener("submit",(function(e){e.preventDefault();var t=Me.getElementsByTagName("input"),o={email:t[0].value};""==t[1].value&&$.ajax({url:"index.php?route=mail/newsletter/setToDatabase",type:"post",data:o,dataType:"json",success:function(e){t[0].value="",Pe.style.display="none",Re.style.display="block"},error:function(e){throw new Error(e)}})}));var Oe=document.querySelectorAll(".btn-slider-span");Oe.length>0&&Oe.forEach((function(e){e.parentNode.querySelector("._icon-arrow-slider-1").classList.contains("swiper-button-lock")&&(e.style.display="none")})),document.querySelector(".subcategory__wrapper")&&(window.matchMedia("(max-width: 768px)").matches?UIkit.slider(".uk-subcat-slider",{draggable:!0,autoplay:!1}):UIkit.slider(".uk-subcat-slider",{draggable:!1,autoplay:!0}))}()};